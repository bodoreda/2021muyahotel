<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="boardComment">
	<insert id="boardCommentInsert" parameterType="bc">
		insert into board_comment values
									(
									 bc_seq.nextval,									
									 #{bcLevel},
									 #{bcWriter},
									 #{bcContent},
									 to_char(sysdate, 'yyyy-mm-dd'),
									 #{boardRef},
									 <choose>
									 	<when test="bcRef == 0">
									 	null
									 	</when>
									 	<otherwise>
									 	#{bcRef}	
									 	</otherwise>
									 </choose>
									 
									 )
									
	</insert>
	<select id="boardCommentList" parameterType = "int" resultType="bc">
	select 
		bc_no as bcNo,
		bc_level as bcLevel,
		bc_writer as bcWriter,
		bc_content as bcContent,
		bc_date as bcDate,
		board_ref as boardRef,
		bc_ref as bcRec
	from board_comment where board_ref=#{boardNo} order by bc_no desc
	</select>
	
	<delete id="boardCommentDelete" parameterType="int">
			delete from board_comment where bc_no=#{bcNo}
	</delete>
	<update id="boardCommentUpdate" parameterType="bc">
  	update board_comment set  
  			bc_content=#{bcContent}	
  	where bc_no = #{bcNo}
  </update>
</mapper>